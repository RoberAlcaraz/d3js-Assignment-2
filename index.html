<!DOCTYPE html>
<html>
    <head>
        <title>d3.js data driven page</title>
        <style>
            body {background-color: white;}
            p {color: black;}
            table {color: black;}
            #Result1 {color: black; font-weight: bold;}
            #Result2 {color: black; font-weight: bold;}
        </style>
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <script>
            function selectData(){
                d3.selectAll("table").remove();
                if (document.getElementById('d1').checked){
                    csv_url_1 = false ? "data1.csv" : "https://raw.githubusercontent.com/RoberAlcaraz/d3js-Assignment-2/main/data1.csv"
                    d3.csv(csv_url_1,
                    (d, i, c) => {
                            d3.select("body")
                            .insert("table")
                            .append("tr")
                            .selectAll("td")
                            .data(c).enter()
                            .append("td")
                            .text(x => d[x])
                    }
                    ); 
                } else if (document.getElementById('d2').checked){
                    csv_url_2 = false ? "data2.csv" : "https://raw.githubusercontent.com/RoberAlcaraz/d3js-Assignment-2/main/data2.csv"
                    d3.csv(csv_url_2,
                    (d, i, c) => {
                            d3.select("body")
                            .insert("table")
                            .append("tr")
                            .selectAll("td")
                            .data(c).enter()
                            .append("td")
                            .text(x => d[x])
                    }
                    );
                }
            }

            function colMean1(){
                csv_url_1 = false ? "data1.csv" : "https://raw.githubusercontent.com/RoberAlcaraz/d3js-Assignment-2/main/data1.csv"
                d3.csv(csv_url_1, function(data){ })
                .then(function(data) {
                    console.log(data);
                    });
                alert('ok')
                if (document.getElementById('x').checked){
                    document.getElementById('Result1').value = d3.mean(data, d => d.x);
                }
               
            }

            
        </script>
    </head>

    <body>
        <p>
            In the following input you can select
            the variable you want to show.
        </p>

        <p>
            Choose a variable from data1 to compute 
            the mean:
        </p>

        <div class="op">
            <input type="checkbox", name="x", id="x", value="x"><label>x</label>
            <input type="checkbox", name="y", id="y", value="y"><label>y</label>
        </div>
        <button type="button" onclick="colMean1()">=</button><br>
        <p>
            <output id="Result1" type="text"><br>
        <br>
        </p>
        <br>
        <br>

        <p>
            Choose a variable from data2 to compute 
            the mean:
        </p>
        <select id="vars2">
            <option value="length" id = "length" onclick="colMean()">length</option>
            <option value="height" id = "height" onclick="colMean()">height</option>
        </select>
        <div id="Result2">Result</div>
        <br>
        <br>

        <div class="op">
            <input type="radio", value="d1", id="d1", onclick="document.getElementById('d2').checked = false"><label>Data 1</label><br>
            <input type="radio", value="d2", id="d2", onclick="document.getElementById('d1').checked = false"><label>Data 2</label><br>
        </div>



        <button type="button" id="Show" onclick="selectData()">Show me the data</button><br>
        <table></table>

    </body>
</html>